<!doctype html>
<html lang="en">
<head th:replace="fragment/headTag"></head>
<body>
<div class="container">
  <div th:replace="fragment/navbar"></div>
  <div class="row" style="margin-top:150px;">
    <div class="col-md-6 offset-md-3 border rounded">
      <nav class="navbar navbar-light">
        <a class="navbar-brand" href="#">主题列表</a>
        <a href="/subject/add" class="btn btn-warning btn-sm">新建主题</a>
      </nav>
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Special title treatment</h5>
          <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
          <a href="/nav/read" class="btn btn-warning btn-sm">导航</a>
          <a href="/cheat/read" class="btn btn-warning btn-sm">速查</a>
          <a href="/card/read" class="btn btn-warning btn-sm">卡片</a>
          <a href="/article/read" class="btn btn-warning btn-sm">文章</a>
          <div class="btn-group float-right">
            <button type="button" class="btn btn-danger btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              设置
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="#" data-toggle="modal" data-target="#delModal">删除</a>
              <a class="dropdown-item" href="#">编辑</a>
            </div>
          </div>
        </div>
      </div>
      <br>
      <nav aria-label="...">
        <ul class="pagination pagination-sm">
          <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Previous</a>
          </li>
          <li class="page-item"><a class="page-link" href="#">1</a></li>
          <li class="page-item active">
            <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
          </li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item">
            <a class="page-link" href="#">Next</a>
          </li>
        </ul>
      </nav>

      <!-- Button trigger modal -->
      <!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#delModal">-->
        <!--Launch demo modal-->
      <!--</button>-->

      <!-- Modal -->
      <div class="modal" id="delModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-dialog-centered modal-sm" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              确定删除该专题吗？
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
              <button type="button" class="btn btn-primary" v-on:click="delSubject">确定</button>
            </div>
          </div>
        </div>
      </div><!-- Modal -->
      <!-- Modal -->
      <div class="modal" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-dialog-centered modal-sm" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              确定删除该专题吗？Varying modal content-用这个
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
              <button type="button" class="btn btn-primary" v-on:click="delSubject">确定</button>
            </div>
          </div>
        </div>
      </div><!-- Modal -->
    </div>
  </div>
</div>
<script>
var app = new Vue({
  el: '#app',
  data: {
    page: 1,
    pageSize: 10,
    pageAll:'',
    message:'',
    messageShow:false
  },
  methods: {
    page: function () {
      this.$http.post('/subject/list', {
        page:this.page
      }, {emulateJSON: true}).then(response => {
        console.log(response.body)
        if(response.body.success) {
            this.messageShow = true;
            this.message = response.body.msg;
        } else {
            this.messageShow = true;
            this.message = response.body.msg;
        }
      }, response => {
        this.errorShow = true;
        this.successShow = false;
        this.message = '网络异常'
      });
    }
  }
})
</script>
</body>
</html>